(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{295:function(t,e,o){t.exports={profile:"Profile_profile__3ggVm",fullName:"Profile_fullName__2N4jL",first__column:"Profile_first__column__2jaYw",second__column:"Profile_second__column__2r7gP",aboutMe:"Profile_aboutMe__19WSn",contacts:"Profile_contacts__311Dv",contacts__item:"Profile_contacts__item__26fJ5",statusField:"Profile_statusField__cWKZg",lookingForAJobDesc:"Profile_lookingForAJobDesc__3YE16",lookingForAJobDescriptionarea:"Profile_lookingForAJobDescriptionarea__115U5"}},296:function(t,e,o){t.exports={statusField:"Status_statusField__3gz8Q",inputField:"Status_inputField__GuL18"}},299:function(t,e,o){"use strict";o.r(e);var n=o(5),a=o(53),c=o(97),s=o(55),r=o(54),i=o(1),l=o(0),u=o.n(l);var b=o(99);function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var o=[],n=!0,a=!1,c=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(i){a=!0,c=i}finally{try{n||null==r.return||r.return()}finally{if(a)throw c}}return o}}(t,e)||Object(b.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=o(295),f=o.n(p),d=o(296),m=o.n(d),O=function(t){var e=j(Object(l.useState)(!1),2),o=e[0],n=e[1],a=j(Object(l.useState)(t.status),2),c=a[0],s=a[1];Object(l.useEffect)((function(){s(t.status)}),[t.status]);return o?Object(i.jsx)("div",{children:Object(i.jsx)("input",{onChange:function(t){s(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateUserStatus(c)},className:m.a.inputField,value:c||""})}):Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status?t.status:"***Use double-click for change status***"})})},h=o(98),x=o(129),_=o(130),v=function(t){var e=t.input,o=t.label,a=t.type,c=t.meta,s=c.touched,r=c.error,l=c.warning;return Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:o}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",Object(n.a)(Object(n.a)({},e),{},{placeholder:o,type:a})),s&&(r&&Object(i.jsx)("span",{children:r})||l&&Object(i.jsx)("span",{children:l}))]})]})},g=Object(_.a)({form:"editPROFILE"})((function(t){return Object(i.jsxs)("form",{className:f.a.second__column,onSubmit:t.handleSubmit,children:[Object(i.jsx)("div",{children:"Looking For A Job:"}),Object(i.jsx)(x.a,{name:"lookingForAJob",type:"checkbox",component:v,label:"Find a job:"}),Object(i.jsx)(x.a,{name:"lookingForAJobDescription",type:"text",component:v,label:"About my future work:"}),Object(i.jsx)(x.a,{name:"fullName",type:"text",component:v,label:"Full name"}),Object(i.jsx)(x.a,{name:"aboutMe",type:"text",component:v,label:"About me"}),Object(i.jsx)("div",{children:"Contacts: "}),Object(i.jsx)(x.a,{name:"contacts.github",type:"text",component:v,label:"github:"}),Object(i.jsx)(x.a,{name:"contacts.vk",type:"text",component:v,label:"vk:"}),Object(i.jsx)(x.a,{name:"contacts.facebook",type:"text",component:v,label:"facebook:"}),Object(i.jsx)(x.a,{name:"contacts.instagram",type:"text",component:v,label:"instagram:"}),Object(i.jsx)(x.a,{name:"contacts.twitter",type:"text",component:v,label:"twitter:"}),Object(i.jsx)(x.a,{name:"contacts.website",type:"text",component:v,label:"website:"}),Object(i.jsx)(x.a,{name:"contacts.youtube",type:"text",component:v,label:"youtube:"}),Object(i.jsx)(x.a,{name:"contacts.mainLink",type:"text",component:v,label:"mainLink:"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Save"})})]})})),y=function(t){return Object(i.jsxs)("div",{className:f.a.second__column,children:[Object(i.jsx)("span",{children:"Status:"}),Object(i.jsx)("div",{className:f.a.statusField,children:Object(i.jsx)(O,{status:t.status,updateUserStatus:t.updateUserStatus})}),Object(i.jsxs)("span",{children:["Looking for a job : ",t.profile.lookingForAJob?"Yes":"No"]}),Object(i.jsxs)("span",{children:["About my future work: ",Object(i.jsx)("div",{className:f.a.lookingForAJobDesc,children:t.profile.lookingForAJob?t.profile.lookingForAJobDescription:"No"})]}),Object(i.jsx)("span",{children:"About me: "}),Object(i.jsx)("div",{className:f.a.aboutMe,children:t.profile.aboutMe?t.profile.aboutMe:"***without about me***"}),Object(i.jsx)("span",{children:"Contacts: "}),Object(i.jsx)("div",{className:f.a.contacts,children:0!==t.contact.length?t.contact:"***without contact***"}),t.isOwner?Object(i.jsx)("div",{}):Object(i.jsx)("button",{onClick:t.goToEditMode,children:"edit"})]})},k=function(t){var e=j(Object(l.useState)(!1),2),o=e[0],a=e[1];if(t.profile){var c=[];for(var s in t.profile.contacts)t.profile.contacts[s]&&c.push(Object(i.jsxs)("div",{className:f.a.contacts__item,children:[s+": ",t.profile.contacts[s]]}));return Object(i.jsxs)("div",{className:f.a.profile,children:[Object(i.jsxs)("div",{className:f.a.first__column,children:[Object(i.jsx)("div",{className:f.a.fullName,children:t.profile.fullName}),Object(i.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:h.a}),t.isOwner?Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Send message"})}):Object(i.jsx)("input",{onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])},type:"file"})]}),o?Object(i.jsx)(g,Object(n.a)(Object(n.a)({initialValues:t.profile},t),{},{contact:c,onSubmit:function(e){t.saveProfile(e),a(!1)}})):Object(i.jsx)(y,Object(n.a)(Object(n.a)({},t),{},{goToEditMode:function(){a(!0)},contact:c}))]})}return Object(i.jsx)("div",{})},S=o(12),F=o(56),P=o(10),w=o(72),A=function(t){return{isAuth:t.auth.isAuth}},N=o(9),J=function(t){Object(s.a)(o,t);var e=Object(r.a)(o);function o(){var t;Object(a.a)(this,o);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).render=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(k,Object(n.a)(Object(n.a)({},t.props),{},{isOwner:!!t.props.match.params.userId,profile:t.props.profile,status:t.props.status,updateUserStatus:t.props.updateUserStatus}))})},t}return Object(c.a)(o,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;this.props.getUserProfile(t),this.props.setUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.refreshProfile()}}]),o}(u.a.Component);e.default=Object(N.d)((function(t){var e=function(e){Object(s.a)(l,e);var o=Object(r.a)(l);function l(){return Object(a.a)(this,l),o.apply(this,arguments)}return Object(c.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(i.jsx)(t,Object(n.a)({},this.props)):Object(i.jsx)(P.a,{to:"/login"})}}]),l}(u.a.Component);return Object(S.b)(A)(e)}),P.f,Object(S.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{follow:w.c,unfollow:w.f,getUserProfile:F.b,updateUserStatus:F.f,setUserStatus:F.e,savePhoto:F.c,saveProfile:F.d}))(J)}}]);
//# sourceMappingURL=3.a43369f5.chunk.js.map