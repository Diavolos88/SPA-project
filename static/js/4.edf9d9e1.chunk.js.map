{"version":3,"sources":["components/Users/Users.module.css","components/Users/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","currentPage","push","className","s","newPage__block","center","map","e","onClick","onPage","numbers","newPage","User","item","firstColumn","to","user","id","ava","src","photos","small","minion","followed","disabled","followingInProgress","followButton","unfollow","follow","info","other","name","status","Users","usersPage","usersData","u","getUsersData","state","getPageSizeData","getTotalUsersCountData","getCurrentPageData","getIsFetchingData","isFetching","getFollowingInProgressData","UserContainer","getUsers","users","length","usersAPI","then","data","setUsers","items","onPageChenged","changeCurrentPage","render","isAuth","Preloader","toggleFollowingInProgress","this","React","Component","UsersContainer","connect","auth"],"mappings":"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","file":"static/js/4.edf9d9e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"followButton\":\"Users_followButton__2YWPa\",\"usersPage\":\"Users_usersPage__DMqck\",\"firstColumn\":\"Users_firstColumn__1BPwm\",\"ava\":\"Users_ava__2VoRM\",\"info\":\"Users_info__4TZwH\",\"item\":\"Users_item__2oJlP\",\"other\":\"Users_other__39q_c\",\"county\":\"Users_county__2jXir\",\"name\":\"Users_name__v6aUG\",\"status\":\"Users_status__1qJIw\",\"city\":\"Users_city__1oNOC\",\"show\":\"Users_show__1Qboo\",\"newPage__block\":\"Users_newPage__block__1U9s5\",\"center\":\"Users_center__1KJa-\",\"numbers\":\"Users_numbers__3hMwB\",\"newPage\":\"Users_newPage__1I4ri\"};","import React from 'react';\r\nimport s from './Users.module.css';\r\n\r\nlet Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        if (i === props.currentPage - 2 || i === props.currentPage - 1 || i === props.currentPage ||\r\n            i === props.currentPage + 1 || i === props.currentPage + 2 || i === pagesCount || i === 1) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n    return (\r\n        <div className={s.newPage__block}>\r\n            <div className={s.center}>\r\n                {pages.map(e => {\r\n                    return <span onClick={() => {\r\n                        props.onPage(e)\r\n                    }} className={s.numbers + \" \" + (props.currentPage === e ? s.newPage : \"\")}>{e}</span>\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport minion from '../../img/minion.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div key={props.user.id} className={s.item}>\r\n            <div className={s.firstColumn}>\r\n                <NavLink to={'/profile/' + props.user.id}>\r\n                    <img className={s.ava} src={props.user.photos.small != null ? props.user.photos.small : minion}></img>\r\n                </NavLink>\r\n                {!props.user.followed\r\n                    ? <button className={s.followButton}\r\n                              onClick={() => {\r\n                                  props.follow(props.user.id)\r\n                              }} disabled={props.followingInProgress}>Follow</button>\r\n                    : <button disabled={props.followingInProgress} className={s.followButton}\r\n                              onClick={() => {\r\n                                  props.unfollow(props.user.id)\r\n                              }}>Unfollow</button>\r\n                }\r\n            </div>\r\n            <div className={s.info}>\r\n                <div className={s.other + \" \" + s.name}>{props.user.name}</div>\r\n                {/*<div className={s.other + \" \" + s.county}>{u.location.country}</div>*/}\r\n                <div className={s.other + \" \" + s.status}>{props.user.status}</div>\r\n                {/*<div className={s.other + \" \" + s.city}>{u.location.city}</div>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default User","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport minion from '../../img/minion.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"./Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.usersPage}>\r\n                {\r\n                    props.usersData.map(u => (<User user={u} {...props}/>))\r\n                }\r\n            </div>\r\n            <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage}\r\n                       onPage={props.onPage}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users","\r\n\r\nexport const getUsersData = (state) => {\r\n    return state.usersData\r\n}\r\n\r\nexport const getPageSizeData = (state) => {\r\n    return state.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountData = (state) => {\r\n    return state.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageData = (state) => {\r\n    return state.currentPage\r\n}\r\n\r\nexport const getIsFetchingData = (state) => {\r\n    return state.isFetching\r\n}\r\n\r\nexport const getFollowingInProgressData = (state) => {\r\n    return state.followingInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport {\r\n    changeCurrentPage, follow,\r\n    getUsers,\r\n    toggleFollowingInProgress, unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {usersAPI} from \"../../api/api\";\r\nimport {\r\n    getCurrentPageData,\r\n    getFollowingInProgressData,\r\n    getIsFetchingData, getPageSizeData, getTotalUsersCountData,\r\n    getUsersData\r\n} from \"../../redux/usersSelectors\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nclass UserContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.users.currentPage, this.props.users.pageSize)\r\n    }\r\n\r\n    getUsers = () => {\r\n        if (this.props.users.usersData.length === 0) {\r\n            usersAPI.getUsers(this.props.users.currentPage, this.props.users.pageSize).then(data => {\r\n                this.props.setUsers(data.items)\r\n            })\r\n        }\r\n    }\r\n    onPageChenged = (e) => {\r\n        this.props.getUsers(e, this.props.users.pageSize)\r\n        this.props.changeCurrentPage(e)\r\n    }\r\n    render = () => {\r\n        if (!this.props.isAuth) {\r\n            return (<Redirect to={'/login'}/>)\r\n        } else {\r\n            return (<div>{this.props.users.isFetching ? <Preloader/> :\r\n                <Users currentPage={this.props.users.currentPage}\r\n                       totalUsersCount={this.props.users.totalUsersCount}\r\n                       pageSize={this.props.users.pageSize}\r\n                       usersData={this.props.users.usersData}\r\n                       unfollow={this.props.unfollow}\r\n                       follow={this.props.follow}\r\n                       toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                       followingInProgress={this.props.users.followingInProgress}\r\n                       onPage={this.onPageChenged}/>}</div>);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        users: getUsersData(state),\r\n        pageSize: getPageSizeData(state),\r\n        totalUsersCount: getTotalUsersCountData(state),\r\n        currentPage: getCurrentPageData(state),\r\n        isFetching: getIsFetchingData(state),\r\n        followingInProgress: getFollowingInProgressData(state)\r\n    }\r\n}\r\n\r\nlet UsersContainer = connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    changeCurrentPage,\r\n    toggleFollowingInProgress,\r\n    getUsers,\r\n})(UserContainer)\r\n\r\n\r\nexport default UsersContainer"],"sourceRoot":""}