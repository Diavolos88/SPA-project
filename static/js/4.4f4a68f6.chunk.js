(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{294:function(e,s,r){e.exports={followButton:"Users_followButton__2YWPa",usersPage:"Users_usersPage__DMqck",firstColumn:"Users_firstColumn__1BPwm",ava:"Users_ava__2VoRM",info:"Users_info__4TZwH",item:"Users_item__2oJlP",other:"Users_other__39q_c",county:"Users_county__2jXir",name:"Users_name__v6aUG",status:"Users_status__1qJIw",city:"Users_city__1oNOC",show:"Users_show__1Qboo",newPage__block:"Users_newPage__block__1U9s5",center:"Users_center__1KJa-",numbers:"Users_numbers__3hMwB",newPage:"Users_newPage__1I4ri"}},300:function(e,s,r){"use strict";r.r(s);var n=r(54),t=r(97),o=r(56),a=r(55),u=r(0),c=r(1),i=r.n(c),l=r(72),g=r(12),p=r(5),f=r(294),_=r.n(f),h=r(98),j=function(e){for(var s=Math.ceil(e.totalUsersCount/e.pageSize),r=[],n=1;n<=s;n++)n!==e.currentPage-2&&n!==e.currentPage-1&&n!==e.currentPage&&n!==e.currentPage+1&&n!==e.currentPage+2&&n!==s&&1!==n||r.push(n);return Object(u.jsx)("div",{className:_.a.newPage__block,children:Object(u.jsx)("div",{className:_.a.center,children:r.map((function(s){return Object(u.jsx)("span",{onClick:function(){e.onPage(s)},className:_.a.numbers+" "+(e.currentPage===s?_.a.newPage:""),children:s})}))})})},P=r(14),b=function(e){return Object(u.jsxs)("div",{className:_.a.item,children:[Object(u.jsxs)("div",{className:_.a.firstColumn,children:[Object(u.jsx)(P.b,{to:"/profile/"+e.user.id,children:Object(u.jsx)("img",{className:_.a.ava,src:null!=e.user.photos.small?e.user.photos.small:h.a})}),e.user.followed?Object(u.jsx)("button",{disabled:e.followingInProgress,className:_.a.followButton,onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(u.jsx)("button",{className:_.a.followButton,onClick:function(){e.follow(e.user.id)},disabled:e.followingInProgress,children:"Follow"})]}),Object(u.jsxs)("div",{className:_.a.info,children:[Object(u.jsx)("div",{className:_.a.other+" "+_.a.name,children:e.user.name}),Object(u.jsx)("div",{className:_.a.other+" "+_.a.status,children:e.user.status})]})]},e.user.id)},d=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:_.a.usersPage,children:e.usersData.map((function(s){return Object(u.jsx)(b,Object(p.a)({user:s},e))}))}),Object(u.jsx)(j,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPage:e.onPage})]})},w=r(132),m=r(11),U=function(e){return e.usersData},O=function(e){return e.pageSize},x=function(e){return e.totalUsersCount},v=function(e){return e.currentPage},C=function(e){return e.isFetching},N=function(e){return e.followingInProgress},I=r(9),k=function(e){Object(o.a)(r,e);var s=Object(a.a)(r);function r(){var e;Object(n.a)(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=s.call.apply(s,[this].concat(o))).getUsers=function(){0===e.props.users.usersData.length&&m.b.getUsers(e.props.users.currentPage,e.props.users.pageSize).then((function(s){e.props.setUsers(s.items)}))},e.onPageChenged=function(s){e.props.getUsers(s,e.props.users.pageSize),e.props.changeCurrentPage(s)},e.render=function(){return e.props.isAuth?Object(u.jsx)("div",{children:e.props.users.isFetching?Object(u.jsx)(w.a,{}):Object(u.jsx)(d,{currentPage:e.props.users.currentPage,totalUsersCount:e.props.users.totalUsersCount,pageSize:e.props.users.pageSize,usersData:e.props.users.usersData,unfollow:e.props.unfollow,follow:e.props.follow,toggleFollowingInProgress:e.props.toggleFollowingInProgress,followingInProgress:e.props.users.followingInProgress,onPage:e.onPageChenged})}):Object(u.jsx)(I.a,{to:"/login"})},e}return Object(t.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.users.currentPage,this.props.users.pageSize)}}]),r}(i.a.Component),z=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,users:U(e),pageSize:O(e),totalUsersCount:x(e),currentPage:v(e),isFetching:C(e),followingInProgress:N(e)}}),{follow:l.c,unfollow:l.f,changeCurrentPage:l.a,toggleFollowingInProgress:l.e,getUsers:l.d})(k);s.default=z}}]);
//# sourceMappingURL=4.4f4a68f6.chunk.js.map